<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real Estate Financial Modeling Platform</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .tab-active { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            color: white; 
        }
        .module-card { 
            background: white; 
            border-radius: 16px; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.07); 
            transition: all 0.3s; 
        }
        .module-card:hover { 
            box-shadow: 0 10px 20px rgba(0,0,0,0.12); 
            transform: translateY(-2px); 
        }
        .gradient-bg { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
        }
        input[type="number"], input[type="text"], input[type="date"], select { 
            transition: all 0.2s; 
        }
        input:focus, select:focus { 
            outline: none; 
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        .btn-primary { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            transition: all 0.3s; 
        }
        .btn-primary:hover { 
            transform: translateY(-1px); 
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4); 
        }
        .table-container {
            overflow-x: auto;
            max-width: 100%;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            font-size: 0.875rem;
        }
        th {
            position: sticky;
            top: 0;
            background: #1f2937;
            color: white;
            font-weight: 600;
            padding: 0.75rem;
            text-align: center;
            border: 1px solid #374151;
        }
        td {
            padding: 0.5rem;
            border: 1px solid #e5e7eb;
            text-align: right;
        }
        td:first-child {
            text-align: left;
            font-weight: 500;
            position: sticky;
            left: 0;
            background: white;
            z-index: 1;
        }
        .total-row {
            background: #e0e7ff;
            font-weight: 700;
        }
        .warning {
            color: #dc2626;
            font-weight: 600;
        }
        .success {
            color: #16a34a;
            font-weight: 600;
        }
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 250px;
            background-color: #1f2937;
            color: #fff;
            text-align: left;
            border-radius: 6px;
            padding: 8px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -125px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.75rem;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo } = React;

        function RealEstatePlatform() {
            // ========== STATE ==========
            const [activeModule, setActiveModule] = useState('overview');
            const [activeTab, setActiveTab] = useState('timeline');
            
            // Project Details & Timeline
            const [projectName, setProjectName] = useState('Skyline Mixed-Use Development');
            const [projectType, setProjectType] = useState('mixed-use');
            const [modelType, setModelType] = useState('monthly'); // monthly or annual
            const [projectStart, setProjectStart] = useState('2025-01-01');
            const [constructionPeriods, setConstructionPeriods] = useState(24);
            const [operationsPeriods, setOperationsPeriods] = useState(60);
            
            // Land Acquisition - Split Cash/In-Kind
            const [cashPercent, setCashPercent] = useState(60);
            const [inKindPercent, setInKindPercent] = useState(40);
            const [totalLandArea, setTotalLandArea] = useState(100000);
            const [landValuePerSqm, setLandValuePerSqm] = useState(500);
            
            // Area Allocation by Percentage
            const [residentialPercent, setResidentialPercent] = useState(50);
            const [hospitalityPercent, setHospitalityPercent] = useState(30);
            const [retailPercent, setRetailPercent] = useState(20);
            
            // Roads/Open Areas by Asset
            const [residentialRoadsPercent, setResidentialRoadsPercent] = useState(20);
            const [hospitalityRoadsPercent, setHospitalityRoadsPercent] = useState(15);
            const [retailRoadsPercent, setRetailRoadsPercent] = useState(10);
            
            // GFA/BUA Multipliers
            const [residentialFAR, setResidentialFAR] = useState(1.5);
            const [residentialEfficiency, setResidentialEfficiency] = useState(0.85);
            const [hospitalityFAR, setHospitalityFAR] = useState(1.2);
            const [hospitalityEfficiency, setHospitalityEfficiency] = useState(0.80);
            const [retailFAR, setRetailFAR] = useState(1.0);
            const [retailEfficiency, setRetailEfficiency] = useState(0.90);
            
            // Financing
            const [interestRate, setInterestRate] = useState(7.5);
            const [capitalizeInterest, setCapitalizeInterest] = useState(true);
            const [capitalStructureType, setCapitalStructureType] = useState('fixed'); // fixed or separate
            const [fixedDebtPercent, setFixedDebtPercent] = useState(60);
            const [financeDebtPercent, setFinanceDebtPercent] = useState(70);
            
            // Debt Repayment
            const [repaymentMethod, setRepaymentMethod] = useState('agreed'); // agreed or sweep
            const [repaymentPeriods, setRepaymentPeriods] = useState(120);
            const [paymentType, setPaymentType] = useState('amortizing'); // amortizing or balloon
            const [minCashReserve, setMinCashReserve] = useState(500000);
            const [sweepPercent, setSweepPercent] = useState(100);

            // ========== CALCULATIONS ==========
            
            const totalPeriods = constructionPeriods + operationsPeriods;
            const periodLabel = modelType === 'monthly' ? 'Month' : 'Year';
            const years = modelType === 'monthly' ? (totalPeriods / 12).toFixed(1) : totalPeriods;
            
            // Land Calculations
            const cashLandArea = totalLandArea * (cashPercent / 100);
            const inKindLandArea = totalLandArea * (inKindPercent / 100);
            const cashLandValue = cashLandArea * landValuePerSqm;
            const inKindLandValue = inKindLandArea * landValuePerSqm;
            const totalLandValue = cashLandValue + inKindLandValue;
            
            // Area Allocations
            const residentialTotalArea = totalLandArea * (residentialPercent / 100);
            const hospitalityTotalArea = totalLandArea * (hospitalityPercent / 100);
            const retailTotalArea = totalLandArea * (retailPercent / 100);
            
            const residentialRoadsArea = residentialTotalArea * (residentialRoadsPercent / 100);
            const hospitalityRoadsArea = hospitalityTotalArea * (hospitalityRoadsPercent / 100);
            const retailRoadsArea = retailTotalArea * (retailRoadsPercent / 100);
            
            const residentialNetArea = residentialTotalArea - residentialRoadsArea;
            const hospitalityNetArea = hospitalityTotalArea - hospitalityRoadsArea;
            const retailNetArea = retailTotalArea - retailRoadsArea;
            
            const residentialGFA = residentialNetArea * residentialFAR;
            const residentialBUA = residentialGFA * residentialEfficiency;
            const hospitalityGFA = hospitalityNetArea * hospitalityFAR;
            const hospitalityBUA = hospitalityGFA * hospitalityEfficiency;
            const retailGFA = retailNetArea * retailFAR;
            const retailBUA = retailGFA * retailEfficiency;
            
            // Validations
            const landPercentValid = cashPercent + inKindPercent === 100;
            const areaPercentValid = residentialPercent + hospitalityPercent + retailPercent === 100;

            // ========== HELPER FUNCTIONS ==========
            
            const formatCurrency = (value) => {
                return new Intl.NumberFormat('en-US', {
                    style: 'currency',
                    currency: 'USD',
                    minimumFractionDigits: 0,
                    maximumFractionDigits: 0
                }).format(value);
            };
            
            const formatNumber = (value) => {
                return new Intl.NumberFormat('en-US', {
                    minimumFractionDigits: 0,
                    maximumFractionDigits: 0
                }).format(value);
            };
            
            const calculateProjectEndDate = () => {
                const start = new Date(projectStart);
                const periodsToAdd = constructionPeriods + operationsPeriods;
                
                if (modelType === 'monthly') {
                    start.setMonth(start.getMonth() + periodsToAdd);
                } else {
                    start.setFullYear(start.getFullYear() + periodsToAdd);
                }
                
                return start.toISOString().split('T')[0];
            };

            return (
                <div className="min-h-screen pb-12">
                    {/* Header */}
                    <div className="gradient-bg text-white py-8 px-6 shadow-lg">
                        <div className="max-w-7xl mx-auto">
                            <h1 className="text-4xl font-bold mb-2">Real Estate Financial Modeling Platform</h1>
                            <p className="text-blue-100 text-lg">
                                Complete Feasibility Analysis ‚Ä¢ {years} Year{years > 1 ? 's' : ''} ‚Ä¢ {totalPeriods} {periodLabel}s
                            </p>
                        </div>
                    </div>

                    <div className="max-w-7xl mx-auto px-6 mt-8">
                        {/* OVERVIEW */}
                        {activeModule === 'overview' && (
                            <div>
                                <h2 className="text-3xl font-bold mb-8 text-gray-800">Select Module</h2>
                                <div className="grid md:grid-cols-4 gap-6 mb-8">
                                    <div className="module-card p-6 cursor-pointer" 
                                         onClick={() => { setActiveModule('module1'); setActiveTab('timeline'); }}>
                                        <div className="text-4xl mb-4">üèóÔ∏è</div>
                                        <h3 className="text-xl font-bold mb-2 text-gray-800">Module 1</h3>
                                        <p className="text-gray-600 mb-4">Development Plan</p>
                                        <p className="text-sm text-gray-500">Timeline, land, costs & financing</p>
                                    </div>
                                    
                                    <div className="module-card p-6 opacity-50">
                                        <div className="text-4xl mb-4">üí∞</div>
                                        <h3 className="text-xl font-bold mb-2 text-gray-800">Module 2</h3>
                                        <p className="text-gray-600 mb-4">Revenue & Operations</p>
                                        <p className="text-sm text-gray-500">Coming next...</p>
                                    </div>
                                    
                                    <div className="module-card p-6 opacity-50">
                                        <div className="text-4xl mb-4">üìä</div>
                                        <h3 className="text-xl font-bold mb-2 text-gray-800">Module 3</h3>
                                        <p className="text-gray-600 mb-4">Valuation & Exit</p>
                                        <p className="text-sm text-gray-500">Coming next...</p>
                                    </div>
                                    
                                    <div className="module-card p-6 opacity-50">
                                        <div className="text-4xl mb-4">üìà</div>
                                        <h3 className="text-xl font-bold mb-2 text-gray-800">Module 4</h3>
                                        <p className="text-gray-600 mb-4">Financial Statements</p>
                                        <p className="text-sm text-gray-500">Coming next...</p>
                                    </div>
                                </div>

                                <div className="module-card p-8">
                                    <h2 className="text-2xl font-bold mb-6 text-gray-800">Project Summary: {projectName}</h2>
                                    <div className="grid md:grid-cols-3 gap-6">
                                        <div>
                                            <p className="text-sm text-gray-600 mb-1">Project Type</p>
                                            <p className="text-2xl font-bold text-gray-800 capitalize">{projectType.replace('-', ' ')}</p>
                                        </div>
                                        <div>
                                            <p className="text-sm text-gray-600 mb-1">Model Type</p>
                                            <p className="text-2xl font-bold text-blue-600 capitalize">{modelType}</p>
                                        </div>
                                        <div>
                                            <p className="text-sm text-gray-600 mb-1">Total Land Area</p>
                                            <p className="text-2xl font-bold text-green-600">{formatNumber(totalLandArea)} sqm</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* MODULE 1 */}
                        {activeModule === 'module1' && (
                            <div>
                                <div className="flex items-center justify-between mb-6">
                                    <button 
                                        onClick={() => setActiveModule('overview')} 
                                        className="text-blue-600 hover:text-blue-800 font-medium"
                                    >
                                        ‚Üê Back to Overview
                                    </button>
                                    <h2 className="text-3xl font-bold text-gray-800">Module 1: Development Plan</h2>
                                    <div></div>
                                </div>

                                {/* Tabs */}
                                <div className="bg-white rounded-lg shadow-sm mb-6">
                                    <div className="flex border-b overflow-x-auto">
                                        {['timeline', 'land', 'costs', 'financing'].map(tab => (
                                            <button
                                                key={tab}
                                                onClick={() => setActiveTab(tab)}
                                                className={`px-6 py-4 font-medium transition-all whitespace-nowrap ${
                                                    activeTab === tab ? 'tab-active' : 'text-gray-600 hover:text-blue-600'
                                                }`}
                                            >
                                                {tab === 'timeline' && 'üìÖ Project Details & Timeline'}
                                                {tab === 'land' && 'üèóÔ∏è Land & Area'}
                                                {tab === 'costs' && 'üí∞ Development Costs'}
                                                {tab === 'financing' && 'üè¶ Financing'}
                                            </button>
                                        ))}
                                    </div>
                                </div>

                                {/* TIMELINE TAB */}
                                {activeTab === 'timeline' && (
                                    <div className="module-card p-6">
                                        <h3 className="text-2xl font-bold mb-6 text-gray-800">Project Details and Timeline</h3>
                                        
                                        <div className="grid md:grid-cols-2 gap-6 mb-8">
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">Project Name</label>
                                                <input
                                                    type="text"
                                                    value={projectName}
                                                    onChange={(e) => setProjectName(e.target.value)}
                                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg"
                                                />
                                            </div>
                                            
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">Project Type</label>
                                                <select
                                                    value={projectType}
                                                    onChange={(e) => setProjectType(e.target.value)}
                                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg"
                                                >
                                                    <option value="residential">Residential</option>
                                                    <option value="hospitality">Hospitality</option>
                                                    <option value="mixed-use">Mixed-Use</option>
                                                </select>
                                            </div>
                                            
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">Model Type</label>
                                                <select
                                                    value={modelType}
                                                    onChange={(e) => setModelType(e.target.value)}
                                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg"
                                                >
                                                    <option value="monthly">Monthly</option>
                                                    <option value="annual">Annual</option>
                                                </select>
                                                <p className="text-xs text-gray-500 mt-1">
                                                    Affects all schedules throughout the model
                                                </p>
                                            </div>
                                            
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">Project Start Date</label>
                                                <input
                                                    type="date"
                                                    value={projectStart}
                                                    onChange={(e) => setProjectStart(e.target.value)}
                                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg"
                                                />
                                            </div>
                                            
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Construction Period ({modelType === 'monthly' ? 'months' : 'years'})
                                                </label>
                                                <input
                                                    type="number"
                                                    value={constructionPeriods}
                                                    onChange={(e) => setConstructionPeriods(Number(e.target.value))}
                                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg"
                                                    min="1"
                                                />
                                            </div>
                                            
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Operations Period ({modelType === 'monthly' ? 'months' : 'years'})
                                                </label>
                                                <input
                                                    type="number"
                                                    value={operationsPeriods}
                                                    onChange={(e) => setOperationsPeriods(Number(e.target.value))}
                                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg"
                                                    min="1"
                                                />
                                            </div>
                                        </div>
                                        
                                        <div className="p-4 bg-blue-50 rounded-lg">
                                            <div className="grid md:grid-cols-3 gap-4">
                                                <div>
                                                    <p className="text-sm text-blue-800 font-semibold">Total Duration</p>
                                                    <p className="text-lg font-bold text-blue-900">
                                                        {totalPeriods} {periodLabel}s ({years} Years)
                                                    </p>
                                                </div>
                                                <div>
                                                    <p className="text-sm text-blue-800 font-semibold">Project End Date</p>
                                                    <p className="text-lg font-bold text-blue-900">
                                                        {calculateProjectEndDate()}
                                                    </p>
                                                </div>
                                                <div>
                                                    <p className="text-sm text-blue-800 font-semibold">Breakdown</p>
                                                    <p className="text-sm text-blue-900">
                                                        Construction: {constructionPeriods} | Operations: {operationsPeriods}
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                )}

                                {/* LAND & AREA TAB */}
                                {activeTab === 'land' && (
                                    <div className="space-y-6">
                                        {/* Land Acquisition */}
                                        <div className="module-card p-6">
                                            <h3 className="text-2xl font-bold mb-6 text-gray-800">Land Acquisition</h3>
                                            
                                            <div className="grid md:grid-cols-2 gap-6 mb-4">
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                                        Total Land Area (sqm)
                                                    </label>
                                                    <input
                                                        type="number"
                                                        value={totalLandArea}
                                                        onChange={(e) => setTotalLandArea(Number(e.target.value))}
                                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg"
                                                        min="0"
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                                        Land Value per SQM ($)
                                                    </label>
                                                    <input
                                                        type="number"
                                                        value={landValuePerSqm}
                                                        onChange={(e) => setLandValuePerSqm(Number(e.target.value))}
                                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg"
                                                        min="0"
                                                    />
                                                </div>
                                            </div>
                                            
                                            <div className="table-container">
                                                <table>
                                                    <thead>
                                                        <tr>
                                                            <th>Acquisition Type</th>
                                                            <th>%</th>
                                                            <th>Area (sqm)</th>
                                                            <th>Value ($)</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td>Cash Purchase</td>
                                                            <td>
                                                                <input
                                                                    type="number"
                                                                    value={cashPercent}
                                                                    onChange={(e) => setCashPercent(Number(e.target.value))}
                                                                    className="w-20 px-2 py-1 border border-gray-300 rounded text-center"
                                                                    min="0"
                                                                    max="100"
                                                                />
                                                            </td>
                                                            <td>{formatNumber(cashLandArea)}</td>
                                                            <td>{formatCurrency(cashLandValue)}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>In-Kind Contribution</td>
                                                            <td>
                                                                <input
                                                                    type="number"
                                                                    value={inKindPercent}
                                                                    onChange={(e) => setInKindPercent(Number(e.target.value))}
                                                                    className="w-20 px-2 py-1 border border-gray-300 rounded text-center"
                                                                    min="0"
                                                                    max="100"
                                                                />
                                                            </td>
                                                            <td>{formatNumber(inKindLandArea)}</td>
                                                            <td>{formatCurrency(inKindLandValue)}</td>
                                                        </tr>
                                                        <tr className="total-row">
                                                            <td>TOTAL</td>
                                                            <td className={landPercentValid ? 'success' : 'warning'}>
                                                                {cashPercent + inKindPercent}%
                                                            </td>
                                                            <td>{formatNumber(totalLandArea)}</td>
                                                            <td>{formatCurrency(totalLandValue)}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            
                                            {!landPercentValid && (
                                                <p className="text-sm text-red-600 mt-2">
                                                    ‚ö†Ô∏è Land percentages must total exactly 100%
                                                </p>
                                            )}
                                        </div>

                                        {/* Area Allocation */}
                                        <div className="module-card p-6">
                                            <h3 className="text-2xl font-bold mb-6 text-gray-800">Area Allocation by Asset Class</h3>
                                            
                                            <div className="table-container mb-6">
                                                <table>
                                                    <thead>
                                                        <tr>
                                                            <th>Asset Class</th>
                                                            <th>Allocation %</th>
                                                            <th>Total Area (sqm)</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td>Residential</td>
                                                            <td>
                                                                <input
                                                                    type="number"
                                                                    value={residentialPercent}
                                                                    onChange={(e) => setResidentialPercent(Number(e.target.value))}
                                                                    className="w-20 px-2 py-1 border border-gray-300 rounded text-center"
                                                                    min="0"
                                                                    max="100"
                                                                />
                                                            </td>
                                                            <td>{formatNumber(residentialTotalArea)}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Hospitality</td>
                                                            <td>
                                                                <input
                                                                    type="number"
                                                                    value={hospitalityPercent}
                                                                    onChange={(e) => setHospitalityPercent(Number(e.target.value))}
                                                                    className="w-20 px-2 py-1 border border-gray-300 rounded text-center"
                                                                    min="0"
                                                                    max="100"
                                                                />
                                                            </td>
                                                            <td>{formatNumber(hospitalityTotalArea)}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Retail</td>
                                                            <td>
                                                                <input
                                                                    type="number"
                                                                    value={retailPercent}
                                                                    onChange={(e) => setRetailPercent(Number(e.target.value))}
                                                                    className="w-20 px-2 py-1 border border-gray-300 rounded text-center"
                                                                    min="0"
                                                                    max="100"
                                                                />
                                                            </td>
                                                            <td>{formatNumber(retailTotalArea)}</td>
                                                        </tr>
                                                        <tr className="total-row">
                                                            <td>TOTAL</td>
                                                            <td className={areaPercentValid ? 'success' : 'warning'}>
                                                                {residentialPercent + hospitalityPercent + retailPercent}%
                                                            </td>
                                                            <td>{formatNumber(totalLandArea)}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            
                                            {!areaPercentValid && (
                                                <p className="text-sm text-red-600 mb-4">
                                                    ‚ö†Ô∏è Area percentages must total exactly 100%
                                                </p>
                                            )}
                                            
                                            {/* Residential Breakdown */}
                                            <div className="mb-6">
                                                <h4 className="text-lg font-bold text-gray-700 mb-3">Residential - Area Breakdown</h4>
                                                <div className="table-container">
                                                    <table>
                                                        <thead>
                                                            <tr>
                                                                <th>Metric</th>
                                                                <th>Value</th>
                                                                <th>Calculation</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>Total Allocated Area</td>
                                                                <td>{formatNumber(residentialTotalArea)} sqm</td>
                                                                <td>{residentialPercent}% of total land</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Roads/Open Area %</td>
                                                                <td>
                                                                    <input
                                                                        type="number"
                                                                        value={residentialRoadsPercent}
                                                                        onChange={(e) => setResidentialRoadsPercent(Number(e.target.value))}
                                                                        className="w-20 px-2 py-1 border border-gray-300 rounded text-center"
                                                                        min="0"
                                                                        max="100"
                                                                    />
                                                                </td>
                                                                <td>User input</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Roads/Open Area</td>
                                                                <td>{formatNumber(residentialRoadsArea)} sqm</td>
                                                                <td>{residentialRoadsPercent}% of allocated area</td>
                                                            </tr>
                                                            <tr className="bg-green-50">
                                                                <td><strong>Net Developable Area</strong></td>
                                                                <td><strong>{formatNumber(residentialNetArea)} sqm</strong></td>
                                                                <td>Total - Roads/Open</td>
                                                            </tr>
                                                            <tr>
                                                                <td className="tooltip">
                                                                    GFA (Gross Floor Area)
                                                                    <span className="tooltiptext">
                                                                        GFA = Net Area √ó FAR (Floor Area Ratio). 
                                                                        Current FAR: {residentialFAR}
                                                                    </span>
                                                                </td>
                                                                <td>
                                                                    {formatNumber(residentialGFA)} sqm
                                                                    <span className="text-xs text-gray-500 ml-2">
                                                                        (FAR: 
                                                                        <input
                                                                            type="number"
                                                                            value={residentialFAR}
                                                                            onChange={(e) => setResidentialFAR(Number(e.target.value))}
                                                                            className="w-16 px-1 py-0.5 border border-gray-300 rounded text-center ml-1"
                                                                            step="0.1"
                                                                            min="0"
                                                                        />)
                                                                    </span>
                                                                </td>
                                                                <td>Net Area √ó FAR</td>
                                                            </tr>
                                                            <tr>
                                                                <td className="tooltip">
                                                                    BUA (Built-Up Area)
                                                                    <span className="tooltiptext">
                                                                        BUA = GFA √ó Efficiency Ratio. 
                                                                        Current Efficiency: {(residentialEfficiency * 100).toFixed(0)}%
                                                                    </span>
                                                                </td>
                                                                <td>
                                                                    {formatNumber(residentialBUA)} sqm
                                                                    <span className="text-xs text-gray-500 ml-2">
                                                                        (Eff: 
                                                                        <input
                                                                            type="number"
                                                                            value={(residentialEfficiency * 100).toFixed(0)}
                                                                            onChange={(e) => setResidentialEfficiency(Number(e.target.value) / 100)}
                                                                            className="w-16 px-1 py-0.5 border border-gray-300 rounded text-center ml-1"
                                                                            min="0"
                                                                            max="100"
                                                                        />%)
                                                                    </span>
                                                                </td>
                                                                <td>GFA √ó Efficiency %</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                            
                                            {/* Hospitality Breakdown */}
                                            <div className="mb-6">
                                                <h4 className="text-lg font-bold text-gray-700 mb-3">Hospitality - Area Breakdown</h4>
                                                <div className="table-container">
                                                    <table>
                                                        <thead>
                                                            <tr>
                                                                <th>Metric</th>
                                                                <th>Value</th>
                                                                <th>Calculation</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>Total Allocated Area</td>
                                                                <td>{formatNumber(hospitalityTotalArea)} sqm</td>
                                                                <td>{hospitalityPercent}% of total land</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Roads/Open Area %</td>
                                                                <td>
                                                                    <input
                                                                        type="number"
                                                                        value={hospitalityRoadsPercent}
                                                                        onChange={(e) => setHospitalityRoadsPercent(Number(e.target.value))}
                                                                        className="w-20 px-2 py-1 border border-gray-300 rounded text-center"
                                                                        min="0"
                                                                        max="100"
                                                                    />
                                                                </td>
                                                                <td>User input</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Roads/Open Area</td>
                                                                <td>{formatNumber(hospitalityRoadsArea)} sqm</td>
                                                                <td>{hospitalityRoadsPercent}% of allocated area</td>
                                                            </tr>
                                                            <tr className="bg-green-50">
                                                                <td><strong>Net Developable Area</strong></td>
                                                                <td><strong>{formatNumber(hospitalityNetArea)} sqm</strong></td>
                                                                <td>Total - Roads/Open</td>
                                                            </tr>
                                                            <tr>
                                                                <td className="tooltip">
                                                                    GFA (Gross Floor Area)
                                                                    <span className="tooltiptext">
                                                                        GFA = Net Area √ó FAR. Current FAR: {hospitalityFAR}
                                                                    </span>
                                                                </td>
                                                                <td>
                                                                    {formatNumber(hospitalityGFA)} sqm
                                                                    <span className="text-xs text-gray-500 ml-2">
                                                                        (FAR: 
                                                                        <input
                                                                            type="number"
                                                                            value={hospitalityFAR}
                                                                            onChange={(e) => setHospitalityFAR(Number(e.target.value))}
                                                                            className="w-16 px-1 py-0.5 border border-gray-300 rounded text-center ml-1"
                                                                            step="0.1"
                                                                            min="0"
                                                                        />)
                                                                    </span>
                                                                </td>
                                                                <td>Net Area √ó FAR</td>
                                                            </tr>
                                                            <tr>
                                                                <td className="tooltip">
                                                                    BUA (Built-Up Area)
                                                                    <span className="tooltiptext">
                                                                        BUA = GFA √ó Efficiency. Current: {(hospitalityEfficiency * 100).toFixed(0)}%
                                                                    </span>
                                                                </td>
                                                                <td>
                                                                    {formatNumber(hospitalityBUA)} sqm
                                                                    <span className="text-xs text-gray-500 ml-2">
                                                                        (Eff: 
                                                                        <input
                                                                            type="number"
                                                                            value={(hospitalityEfficiency * 100).toFixed(0)}
                                                                            onChange={(e) => setHospitalityEfficiency(Number(e.target.value) / 100)}
                                                                            className="w-16 px-1 py-0.5 border border-gray-300 rounded text-center ml-1"
                                                                            min="0"
                                                                            max="100"
                                                                        />%)
                                                                    </span>
                                                                </td>
                                                                <td>GFA √ó Efficiency %</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                            
                                            {/* Retail Breakdown */}
                                            <div>
                                                <h4 className="text-lg font-bold text-gray-700 mb-3">Retail - Area Breakdown</h4>
                                                <div className="table-container">
                                                    <table>
                                                        <thead>
                                                            <tr>
                                                                <th>Metric</th>
                                                                <th>Value</th>
                                                                <th>Calculation</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>Total Allocated Area</td>
                                                                <td>{formatNumber(retailTotalArea)} sqm</td>
                                                                <td>{retailPercent}% of total land</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Roads/Open Area %</td>
                                                                <td>
                                                                    <input
                                                                        type="number"
                                                                        value={retailRoadsPercent}
                                                                        onChange={(e) => setRetailRoadsPercent(Number(e.target.value))}
                                                                        className="w-20 px-2 py-1 border border-gray-300 rounded text-center"
                                                                        min="0"
                                                                        max="100"
                                                                    />
                                                                </td>
                                                                <td>User input</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Roads/Open Area</td>
                                                                <td>{formatNumber(retailRoadsArea)} sqm</td>
                                                                <td>{retailRoadsPercent}% of allocated area</td>
                                                            </tr>
                                                            <tr className="bg-green-50">
                                                                <td><strong>Net Developable Area</strong></td>
                                                                <td><strong>{formatNumber(retailNetArea)} sqm</strong></td>
                                                                <td>Total - Roads/Open</td>
                                                            </tr>
                                                            <tr>
                                                                <td className="tooltip">
                                                                    GFA (Gross Floor Area)
                                                                    <span className="tooltiptext">
                                                                        GFA = Net Area √ó FAR. Current FAR: {retailFAR}
                                                                    </span>
                                                                </td>
                                                                <td>
                                                                    {formatNumber(retailGFA)} sqm
                                                                    <span className="text-xs text-gray-500 ml-2">
                                                                        (FAR: 
                                                                        <input
                                                                            type="number"
                                                                            value={retailFAR}
                                                                            onChange={(e) => setRetailFAR(Number(e.target.value))}
                                                                            className="w-16 px-1 py-0.5 border border-gray-300 rounded text-center ml-1"
                                                                            step="0.1"
                                                                            min="0"
                                                                        />)
                                                                    </span>
                                                                </td>
                                                                <td>Net Area √ó FAR</td>
                                                            </tr>
                                                            <tr>
                                                                <td className="tooltip">
                                                                    BUA (Built-Up Area)
                                                                    <span className="tooltiptext">
                                                                        BUA = GFA √ó Efficiency. Current: {(retailEfficiency * 100).toFixed(0)}%
                                                                    </span>
                                                                </td>
                                                                <td>
                                                                    {formatNumber(retailBUA)} sqm
                                                                    <span className="text-xs text-gray-500 ml-2">
                                                                        (Eff: 
                                                                        <input
                                                                            type="number"
                                                                            value={(retailEfficiency * 100).toFixed(0)}
                                                                            onChange={(e) => setRetailEfficiency(Number(e.target.value) / 100)}
                                                                            className="w-16 px-1 py-0.5 border border-gray-300 rounded text-center ml-1"
                                                                            min="0"
                                                                            max="100"
                                                                        />%)
                                                                    </span>
                                                                </td>
                                                                <td>GFA √ó Efficiency %</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                )}

                                {/* COSTS TAB - Placeholder for now */}
                                {activeTab === 'costs' && (
                                    <div className="module-card p-6">
                                        <h3 className="text-2xl font-bold mb-6 text-gray-800">Development Costs</h3>
                                        <div className="bg-blue-50 border-l-4 border-blue-500 p-4">
                                            <p className="text-sm text-blue-800">
                                                <strong>üìù Development Costs Tab</strong><br/>
                                                This section will include 3 separate cost sections (Residential, Hospitality, Retail) 
                                                with phasing tables and CAPEX summaries. Full implementation coming next.
                                            </p>
                                        </div>
                                    </div>
                                )}

                                {/* FINANCING TAB - Placeholder for now */}
                                {activeTab === 'financing' && (
                                    <div className="module-card p-6">
                                        <h3 className="text-2xl font-bold mb-6 text-gray-800">Financing Structure</h3>
                                        <div className="bg-blue-50 border-l-4 border-blue-500 p-4">
                                            <p className="text-sm text-blue-800">
                                                <strong>üìù Financing Tab</strong><br/>
                                                This section will include debt repayment terms, capital structure, 
                                                finance cost capitalization, drawdown schedules, and debt balance schedules. 
                                                Full implementation coming next.
                                            </p>
                                        </div>
                                    </div>
                                )}
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        ReactDOM.render(<RealEstatePlatform />, document.getElementById('root'));
    </script>
</body>
</html>
